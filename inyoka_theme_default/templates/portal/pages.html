{#
    portal/pages.html
    ~~~~~~~~~~~~~~~~~

    This is the overview of the static pages configuration.

    :copyright: (c) 2013-2017 by the Inyoka Team, see AUTHORS for more details.
    :license: BSD, see LICENSE for more details.
#}
{% extends 'portal/base.html' %}

{% block title %}
  {% trans %}Static pages{% endtrans %} â€“ {{ super() }}
{% endblock title %}

{% block breadcrumb %}
  {{ super() }}

  {{ macros.breadcrumb_item(_('Static pages'), href('portal', 'pages')) }}
{% endblock %}

{% block sidebar %}
  {% call macros.sidebar_admin() %}
    {{ macros.sidebar_item(_('Create new page'), href('portal', 'page', 'new')) }}
  {% endcall %}
{% endblock %}

{% block content %}
  <h1>{% trans %}Static pages{% endtrans %}</h1>

  <div class="portal-static_pages">
    <table>
      <thead>
        <tr>
          <th>{{ table.get_html('key', _('Key')) }}</th>
          <th>{{ table.get_html('title', _('Title')) }}</th>
          <th>{% trans %}Actions{% endtrans %}</th>
        </tr>
      </thead>
      <tbody>
        {% for page in pages %}
          <tr>
            <td class="pagekey">
              <a href="{{ page|url }}">{{ page.key }}</a>
            </td>
            <td class="title">{{ page.title }}</td>
            <td class="actions">
              <a href="{{ page|url('edit') }}">
                <span class="fa_icon-pencil" aria-hidden="true"></span>
                {% trans %}Edit{% endtrans %}
              </a>
              <br>
              <a href="{{ page|url('delete') }}">
                <span class="fa_icon-trash" aria-hidden="true"></span>
                {% trans %}Delete{% endtrans %}
              </a>
            </td>
          </tr>
        {% else %}
          <tr>
            <td colspan="3">
              {% trans %}There are no static pages, create the first one now!{% endtrans %}
            </td>
          </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
{% endblock %}
